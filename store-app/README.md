# Интернет-магазин с административной панелью

Проект включает в себя два веб-сервера:
1. Клиентский сервер (порт 3000) - для отображения каталога товаров с использованием GraphQL
2. Административный сервер (порт 8080) - для управления товарами через RESTful API

## Структура проекта

```
store-app/
├── client/                  # Клиентская часть (интернет-магазин)
│   ├── index.html
│   ├── script.js
│   └── styles.css
├── server/                  # Серверная часть для интернет-магазина
│   ├── client-server.js     # GraphQL + WebSocket
│   └── products.json
├── admin/                   # Административная панель
│   ├── admin-server.js      # RESTful API + WebSocket
│   └── public/
│       ├── index.html
│       ├── script.js
│       └── styles.css
└── package.json
```

## Требования

- Node.js (версия 14 или выше)
- npm или yarn

## Установка и запуск

1. Установите зависимости:

```
cd store-app
npm install
```

2. Запустите оба сервера одновременно:

```
npm start
```

Или запустите серверы по отдельности:

```
npm run start-client    # Запуск клиентского сервера
npm run start-admin     # Запуск административного сервера
```

## Доступ к приложению

- Интернет-магазин: http://localhost:3000
- Панель администратора: http://localhost:8080
- API документация (Swagger): http://localhost:8080/spec
- GraphQL playground: http://localhost:3000/graphql

## Возможности интернет-магазина

- Просмотр списка товаров с информацией (название, цена, описание)
- Фильтрация товаров по категориям
- Выбор режима отображения данных о товарах (GraphQL):
  - Полная информация
  - Только названия и цены
  - Только названия и описания
- Чат поддержки (WebSocket)

## Возможности административной панели

- Просмотр всех товаров
- Добавление нового товара
- Редактирование существующего товара
- Удаление товаров
- Массовое добавление товаров через JSON
- Чат с пользователями (WebSocket)

## API-спецификация

### RESTful API (администратор)

Полная документация API доступна по адресу http://localhost:8080/spec

Основные эндпоинты:

- `GET /api/products` - получить список всех товаров
- `POST /api/products` - добавить новый товар
- `PUT /api/products/:id` - обновить товар по ID
- `DELETE /api/products/:id` - удалить товар по ID
- `POST /api/products/bulk` - добавить несколько товаров

### GraphQL API (клиент)

Полная документация и интерактивная площадка доступны по адресу http://localhost:3000/graphql

Основные запросы:

- `products` - получить все товары
- `product(id: Int!)` - получить товар по ID
- `productsByCategory(category: String!)` - получить товары по категории
- `productNames` - получить только названия товаров
- `productPrices` - получить только названия и цены товаров
- `productDescriptions` - получить только названия и описания товаров

### WebSocket API

Реализован чат между клиентами и администраторами с использованием Socket.IO.

События:

- `connection` - установка соединения
- `chat message` - отправка/получение сообщения
- `disconnect` - отключение от чата
